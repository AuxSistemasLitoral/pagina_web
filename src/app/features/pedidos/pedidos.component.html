
<div #scrollContainer class="proveedores-container">
  <div class="proveedores-scroll" [ngClass]="{'animar': animarProveedores}">
    <div class="proveedor-item"
         *ngFor="let proveedor of proveedoresDuplicados; trackBy: trackByProveedor"
         (click)="filtrarPorProveedor(proveedor.proveedor)">
      <img 
        [src]="getProveedorImageUrl(proveedor.proveedor)" 
        [alt]="proveedor.proveedor || 'Proveedor sin nombre'"
        (error)="imagenError($event, proveedor.proveedor)"
        loading="lazy">
    </div>
  </div>
</div>


<div *ngIf="cargando" class="loading-container" >
  <span class="visually-hidden">CARGANDO PRODUCTOS...</span>
</div>


<div class="productos-container">
  <div class="producto-card" *ngFor="let producto of productos" [class.con-descuento]="producto.descuento > 0">   
     <img [src]="getProductImageUrl(producto.referencia)"    
     [alt]="'Imagen de ' + producto.nombre"
     class="producto-imagen"
     (error)="handleProductImageError($event)">
    <h3>{{ producto.nombre }}</h3>
    <p><strong>Referencia:</strong> {{ producto.referencia }}</p>
    <p><strong>Unidades por empaque:</strong> {{ producto.factor }}</p>
    <p><strong>Precio:</strong> {{ producto.lista_precio[0].precio | currency }}</p>
    <p><strong>Disponible:</strong> {{ producto.disponible }}</p>

    <div *ngIf="producto.descuento > 0" class="descuento-label">
      ðŸ”¥Producto con descuento, Valida con tu asesor.
      <h5 class="terminos">Aplican tÃ©rminos y condiciones.</h5>
    </div>

    <div class="cantidad-container">
      <input type="number" min="1" class="cantidad-input" placeholder="Cantidad">
      <button class="agregar-btn" (click)="agregarAlCarrito(producto)">ðŸ›’ Agregar</button>
    </div>
  </div>
</div>

